---
import Layout from "@/layouts/Layout.astro";
import jobs from "@/data/jobs";
import cv from "/cv.pdf";
import Link from "@/components/shared/Link.astro";
import { formatTechs } from "@/components/ProjectCard.astro";
import convertAsteriskToStrongTag from "@/utils/convertAsteriskToStrongTag";
---

<Layout title="Template - All Posts">
  <main class="flex flex-col gap-12">

    <div class="flex flex-col gap-6">
      <h1 class="text-2xl text-neutral-100">Work experience</h1>

      <div class="flex self-end">
          <button>
            <strong class="text-xl">
              <Link href={cv} label="Download CV" isUnderline target="_blank">
              Download CV
            </Link>
            </strong>
          </button>
      </div>
    </div>

    {
      jobs?.map((job) => (
        <article class="flex flex-col gap-4">
          <header class="flex w-full flex-row justify-between gap-2">
            <h3 class="text-lg text-neutral-100">{job.title}</h3>
          </header>
          {jobs.length === 0 && <p>Oops, I must work^^^^^</p>}

          <section
            class="w-auto w-auto max-w-[60ch] leading-6"
            set:html={convertAsteriskToStrongTag(job.description)}
          />
{/* " */}
          <section class="flex flex-col gap-4">
            Technologies used: {formatTechs(job.techs)}
          </section>
        </article>
      ))
    }
  </main>
</Layout>
